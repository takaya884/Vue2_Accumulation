<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue 2 Option API å‹‰å¼·</title>
    <style>
        body {
            font-family: 'Arial', 'Hiragino Kaku Gothic Pro', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        .sample-section {
            border: 2px solid #42b883;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background-color: #f9fffe;
        }
        h1 {
            color: #42b883;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
        }
        h2 {
            color: #35495e;
            border-bottom: 2px solid #42b883;
            padding-bottom: 10px;
        }
        button {
            background-color: #42b883;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #369870;
        }
        button.danger {
            background-color: #e74c3c;
        }
        button.danger:hover {
            background-color: #c0392b;
        }
        input {
            padding: 10px;
            margin: 5px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        input:focus {
            border-color: #42b883;
            outline: none;
        }
        .stats {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .todo-item {
            background-color: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.5s;
        }
        .fade-enter, .fade-leave-to {
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ Vue 2 Option API å‹‰å¼·ç”¨ã‚µãƒ³ãƒ—ãƒ«</h1>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã®Vueã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div id="app">
            <!-- 1. åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚° -->
            <div class="sample-section">
                <h2>ğŸ“Š åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°</h2>
                <p><strong>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:</strong> {{ message }}</p>
                <p><strong>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼:</strong> {{ counter }}</p>
                <button @click="increment">â• ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å¢—ã‚„ã™</button>
                <button @click="decrement">â– ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ¸›ã‚‰ã™</button>
                <button @click="reset">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
            </div>

            <!-- 2. åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚° -->
            <div class="sample-section">
                <h2>â†”ï¸ åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°</h2>
                <input v-model="inputText" placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" style="width: 300px;">
                <p><strong>å…¥åŠ›ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ:</strong> "{{ inputText }}"</p>
                <p><strong>æ–‡å­—æ•°:</strong> {{ inputText.length }}æ–‡å­—</p>
            </div>

            <!-- 3. æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° -->
            <div class="sample-section">
                <h2>ğŸ”€ æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</h2>
                <button @click="toggleVisibility">ğŸ‘ï¸ è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ</button>
                <transition name="fade">
                    <p v-if="isVisible" key="visible">âœ… ã“ã®æ–‡ç« ã¯æ¡ä»¶ã«ã‚ˆã£ã¦è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                    <p v-else key="hidden">âŒ ä»Šã¯éè¡¨ç¤ºçŠ¶æ…‹ã§ã™</p>
                </transition>
            </div>

            <!-- 4. ãƒªã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° -->
            <div class="sample-section">
                <h2>ğŸ“ TODOãƒªã‚¹ãƒˆï¼ˆãƒªã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰</h2>
                <div>
                    <input v-model="newTodo" @keyup.enter="addTodo" placeholder="TODOã‚’è¿½åŠ " style="width: 250px;">
                    <button @click="addTodo">â• è¿½åŠ </button>
                </div>
                <div v-if="todos.length === 0" style="text-align: center; color: #7f8c8d; margin: 20px 0;">
                    ğŸ“‹ TODOãŒã‚ã‚Šã¾ã›ã‚“
                </div>
                <div v-else>
                    <div class="todo-item" v-for="(todo, index) in todos" :key="index">
                        <span>{{ index + 1 }}. {{ todo }}</span>
                        <button class="danger" @click="removeTodo(index)">ğŸ—‘ï¸ å‰Šé™¤</button>
                    </div>
                </div>
            </div>

            <!-- 5. ç®—å‡ºãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ -->
            <div class="sample-section">
                <h2>ğŸ§® ç®—å‡ºãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ (Computed)</h2>
                <div class="stats">
                    <p><strong>ğŸ“Š çµ±è¨ˆæƒ…å ±:</strong></p>
                    <ul>
                        <li>TODOã®ç·æ•°: {{ todoCount }}ä»¶</li>
                        <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ–‡å­—æ•°: {{ messageLength }}æ–‡å­—</li>
                        <li>å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã®æ–‡å­—æ•°: {{ inputLength }}æ–‡å­—</li>
                        <li>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®çŠ¶æ…‹: {{ counterStatus }}</li>
                    </ul>
                </div>
            </div>

            <!-- 6. ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ -->
            <div class="sample-section">
                <h2>ğŸ‘€ ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ (Watch)</h2>
                <p>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã¨TODOã®å¤‰æ›´ã‚’ç›£è¦–ä¸­...</p>
                <div class="stats">
                    <p><strong>ğŸ“ˆ å¤‰æ›´å±¥æ­´:</strong></p>
                    <p>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å¤‰æ›´å±¥æ­´: {{ counterHistory.slice(-5).join(' â†’ ') }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Vue 2ã‚’CDNã‹ã‚‰èª­ã¿è¾¼ã¿ -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
    <script>
        // Vue 2 Option API ã®ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
        new Vue({
            // ãƒã‚¦ãƒ³ãƒˆå¯¾è±¡ã®è¦ç´ 
            el: '#app',
            
            // ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³ - ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©
            data: {
                message: 'Vue 2 Option APIã®å‹‰å¼·ã¸ã‚ˆã†ã“ãï¼ ğŸ‰',
                counter: 0,
                inputText: '',
                isVisible: true,
                todos: ['Vue 2ã®åŸºæœ¬ã‚’å­¦ã¶', 'Option APIã‚’ç†è§£ã™ã‚‹', 'ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹'],
                newTodo: '',
                counterHistory: [0]
            },
            
            // ç®—å‡ºãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ - ä»–ã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã‚‹å€¤
            computed: {
                // TODOã®ç·æ•°ã‚’è¿”ã™
                todoCount() {
                    return this.todos.length;
                },
                
                // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ–‡å­—æ•°ã‚’è¿”ã™
                messageLength() {
                    return this.message.length;
                },
                
                // å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã®æ–‡å­—æ•°ã‚’è¿”ã™
                inputLength() {
                    return this.inputText.length;
                },
                
                // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®çŠ¶æ…‹ã‚’æ–‡å­—åˆ—ã§è¿”ã™
                counterStatus() {
                    if (this.counter > 0) return 'æ­£ã®æ•° â•';
                    if (this.counter < 0) return 'è² ã®æ•° â–';
                    return 'ã‚¼ãƒ­ 0ï¸âƒ£';
                }
            },
            
            // ãƒ¡ã‚½ãƒƒãƒ‰ - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚„é–¢æ•°ã‚’å®šç¾©
            methods: {
                // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å¢—åŠ 
                increment() {
                    this.counter++;
                },
                
                // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ¸›å°‘
                decrement() {
                    this.counter--;
                },
                
                // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
                reset() {
                    this.counter = 0;
                },
                
                // è¡¨ç¤ºçŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆ
                toggleVisibility() {
                    this.isVisible = !this.isVisible;
                },
                
                // æ–°ã—ã„TODOã‚’è¿½åŠ 
                addTodo() {
                    if (this.newTodo.trim()) {
                        this.todos.push(this.newTodo.trim());
                        this.newTodo = '';
                    }
                },
                
                // TODOã‚’å‰Šé™¤
                removeTodo(index) {
                    this.todos.splice(index, 1);
                }
            },
            
            // ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ - ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’ç›£è¦–
            watch: {
                // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å¤‰æ›´ã‚’ç›£è¦–
                counter(newValue, oldValue) {
                    console.log(`ğŸ”„ ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãŒ ${oldValue} ã‹ã‚‰ ${newValue} ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸ`);
                    this.counterHistory.push(newValue);
                    
                    // å±¥æ­´ãŒ10ä»¶ã‚’è¶…ãˆãŸã‚‰å¤ã„ã‚‚ã®ã‚’å‰Šé™¤
                    if (this.counterHistory.length > 10) {
                        this.counterHistory.shift();
                    }
                },
                
                // TODOãƒªã‚¹ãƒˆã®å¤‰æ›´ã‚’ç›£è¦–
                todos: {
                    handler(newTodos) {
                        console.log('ğŸ“ TODOãƒªã‚¹ãƒˆãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ:', newTodos);
                    },
                    deep: true // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ·±ã„å¤‰æ›´ã‚‚ç›£è¦–
                },
                
                // å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã®å¤‰æ›´ã‚’ç›£è¦–
                inputText(newValue) {
                    console.log(`ğŸ’¬ å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸ: "${newValue}"`);
                }
            },
            
            // ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯
            created() {
                console.log('ğŸ¬ Vueã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œæˆã•ã‚Œã¾ã—ãŸ (created)');
            },
            
            mounted() {
                console.log('ğŸ  DOMã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã—ãŸ (mounted)');
                console.log('ğŸ” é–‹ç™ºè€…ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã„ã¦ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ãã ã•ã„');
                console.log('ğŸ“š å­¦ç¿’å†…å®¹: ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ç®—å‡ºãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«');
            },
            
            updated() {
                console.log('ğŸ”„ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ (updated)');
            }
        });
    </script>
</body>
</html>